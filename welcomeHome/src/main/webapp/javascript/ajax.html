<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/ajax.html</title>
    <link rel="stylesheet" href="ajax.css">
    <!-- <script src="js/ajax.js"></script> -->
    <script>
        let xhtp = new XMLHttpRequest();
        xhtp.open('get', 'MOCK_DATA.json');
        xhtp.send();
        xhtp.onreadystatechange = function () {
            if (xhtp.readyState == 4 && xhtp.status == 200) {
                let data = JSON.parse(xhtp.response);
                console.log(data);
            }
        }
        document.addEventListener('DOMContentLoaded', function () {
            ajax('MOCK_DATA.json');
            let btns = document.querySelectorAll('.pagination > button');
            for(let i = 0; i<btns.length; i++) {
                btns[i].className = '';
            }
            let page = this.innerHTML;
            this.className ='active';
            ajax('MOCK_DATA.json', page);

        })

        function makepage(data) {
            let divshow = document.querySelector('#show');
            let cnt = divshow.children.length;
            for (let i = 0; i < cnt; i++) {
                divshow.removeChild(divshow.children[0]);
            }
            let records = data.getElementsByTagName('record');
            let statCnt, endCnt;
            let div = document.createElement('div');
            div.className = 'row';
            let span = document.createElement('span');
            span.innerText = records[i].children[0].innerHTML;
            let strong = document.childElement('strong');
            strong.innerText = records[i].children[0].innerHTML;

            div.appendChild(span);
            div.appendChild(strong);

            document.getElementById('show').appendChild(div);
        }
    </script>
</head>

<body>
    <div class="title"><span>id</span>
        <strong>first_name</strong>
        <strong>last_name</strong>
        <strong>email</strong>
    </div>
    <div id="show">
    </div>
    <div class="pagination">
        <button>1</button>
        <button>2</button>
        <button>3</button>
        <button>4</button>
        <button>5</button>
        <button>6</button>
        <button>7</button>
        <button>8</button>
        <button>9</button>
        <button>10</button>
        <button>11</button>
        <button>12</button>
        <button>16</button>

    </div>
</body>

</html>